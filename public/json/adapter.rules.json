
{
  "system_contract": {
    "persistence": "supabase_remote_state",
    "rendering_engine": "locked_react_component",
    "read_flow": "Supabase -> localData -> Renderer",
    "write_flow": "Form Submission -> handleFormSubmit -> Adapter -> Supabase -> localData update -> Renderer"
  },
  "renderer_assumptions": {
    "table_injection": "The renderer expects section.data to contain an array of objects where keys match section.columns[].key.",
    "form_output": "The handleFormSubmit function consumes FormData entries keyed by the 'name' attribute of form fields."
  },
  "adapter_logic": {
    "target_table_resolution": {
      "addStudentForm": "students",
      "addTeacherForm": "teachers",
      "addClassForm": "classes",
      "addNoticeForm": "notices",
      "addAssignmentForm": "assignments"
    },
    "ui_section_mapping": {
      "students": "studentTable",
      "teachers": "teacherTable",
      "classes": "classTable",
      "notices": "noticeTable",
      "assignments": "assignmentTable"
    },
    "field_name_normalization": {
      "addStudentForm": {
        "studentCode": "studentCode",
        "name": "name",
        "grade": "grade",
        "parentContact": "parentContact",
        "enrollmentDate": "enrollmentDate",
        "status": "status"
      },
      "addTeacherForm": {
        "staffCode": "staffCode",
        "name": "name",
        "department": "department",
        "email": "email",
        "classes": "classes",
        "bio": "bio"
      },
      "addClassForm": {
        "classCode": "classCode",
        "code": "code",
        "subject": "subject",
        "room": "room",
        "capacity": "capacity"
      },      
      "addNoticeForm": {
        "noticeCode": "noticeCode",
        "date": "date",
        "title": "title",
        "target": "target",
        "content": "content"
      },  
      "addAssignmentForm": {
        "assignmentCode": "assignmentCode",
        "title": "title",
        "date": "date",
        "target": "target",
        "content": "content"
      }    
    },
    "default_value_injection": {
      "status": "Active",
      "id": "NEW-{random}",
      "date": "current_iso_date"
    }
   
  },
  "issue_classification": {
    "safe_semantic_mismatches": [
      "Parent Contact Email (Form Label) vs Parent Contact (Table Header)",
      "Room Number (Form Label) vs Room (Table Header)",
      "Max Student Capacity (Form Label) vs Capacity (Table Header)",
      "Publish Date (Form Label) vs Date Posted (Table Header)",
      "Detailed Content (Form Label) vs Preview Content (Table Header)"
    ],
    "requires_adapter_rule": [
      "Legacy hardcoded field mapping aliases in AdminDashboard.js",
      "Manual system field generation (ID, Date, Status) in form handler"
    ]
  }
}
